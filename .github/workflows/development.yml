name: Tag Development

on:
  pull_request:
    branches:
      - development

jobs:
  read_labels:
    name: Read PR labels
    runs-on: ubuntu-latest
    permissions:
      pull-requests: read
      contents: read
    steps:
      - name: Get labels from pull request
        id: get_labels
        uses: actions/github-script@v6
        with:
          script: |
            const pr = context.payload.pull_request;
            if (!pr) {
              core.setFailed("No pull_request found in the event payload");
              return;
            }
            const labels = pr.labels.map(l => l.name);
            core.setOutput("labels", labels.join(","));
            console.log("PR labels:", labels);

      - name: Show labels
        run: |
          echo "Labels: ${{ steps.get_labels.outputs.labels }}"
